<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>微服务简介 | 小肥龙吃大冰淇淋</title><meta name="keywords" content="微服务"><meta name="author" content="小肥龙吃大冰淇淋"><meta name="copyright" content="小肥龙吃大冰淇淋"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="微服务简介什么是微服务架构 微服务的概念源于2014年3月Martin Fowler所写的一篇文章“Microservices”。  微服务架构是一种架构模式，它提倡将单一应用程序划分成一组小的服务，服务之间互相协调、互相配合，为用户提供最终价值。每个服务运行在其独立的进程中，服务与服务间采用轻量级的通信机制互相沟通（通常是基于HTTP的RESTful API）。每个服务都围绕着具体业务进行构建，">
<meta property="og:type" content="article">
<meta property="og:title" content="微服务简介">
<meta property="og:url" content="https://lvxueyangtiger.github.io/post/2c46bfa7.html">
<meta property="og:site_name" content="小肥龙吃大冰淇淋">
<meta property="og:description" content="微服务简介什么是微服务架构 微服务的概念源于2014年3月Martin Fowler所写的一篇文章“Microservices”。  微服务架构是一种架构模式，它提倡将单一应用程序划分成一组小的服务，服务之间互相协调、互相配合，为用户提供最终价值。每个服务运行在其独立的进程中，服务与服务间采用轻量级的通信机制互相沟通（通常是基于HTTP的RESTful API）。每个服务都围绕着具体业务进行构建，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211108212100.jpg">
<meta property="article:published_time" content="2024-05-30T01:10:36.510Z">
<meta property="article:modified_time" content="2022-11-27T09:16:45.134Z">
<meta property="article:author" content="小肥龙吃大冰淇淋">
<meta property="article:tag" content="微服务">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211108212100.jpg"><link rel="shortcut icon" href="https://lvxueyangboke.oss-cn-beijing.aliyuncs.com/images/20210805191028.png"><link rel="canonical" href="https://lvxueyangtiger.github.io/post/2c46bfa7"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '微服务简介',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-11-27 17:16:45'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/ali_icon.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/mogai.css"><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css"  media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="小肥龙吃大冰淇淋" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="wizard-scene"><div class="wizard-objects"><div class="wizard-square"></div><div class="wizard-circle"></div><div class="wizard-triangle"></div></div><div class="wizard"><div class="wizard-body"></div><div class="wizard-right-arm"><div class="wizard-right-hand"></div></div><div class="wizard-left-arm"><div class="wizard-left-hand"></div></div><div class="wizard-head"><div class="wizard-beard"></div><div class="wizard-face"><div class="wizard-adds"></div></div><div class="wizard-hat"><div class="wizard-hat-of-the-hat"></div><div class="wizard-four-point-star --first"></div><div class="wizard-four-point-star --second"></div><div class="wizard-four-point-star --third"></div></div></div></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/blog/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">303</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">108</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">73</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-shouyex"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw iconfont icon-zuixinwenzhang_huaban"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei1"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian1"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-shijianzhou"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw iconfont icon-shenghuo"></i><span> 生活</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/timeline/"><i class="fa-fw iconfont icon-shijianzhou"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw iconfont icon-lianjie"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-gerenzhongxin"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211108212100.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小肥龙吃大冰淇淋</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-shouyex"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw iconfont icon-zuixinwenzhang_huaban"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei1"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian1"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-shijianzhou"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw iconfont icon-shenghuo"></i><span> 生活</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/timeline/"><i class="fa-fw iconfont icon-shijianzhou"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw iconfont icon-lianjie"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-gerenzhongxin"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">微服务简介</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-05-30T01:10:36.510Z" title="发表于 2024-05-30 09:10:36">2024-05-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-27T09:16:45.134Z" title="更新于 2022-11-27 17:16:45">2022-11-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/java%E5%AD%A6%E4%B9%A0/">java学习</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/java%E5%AD%A6%E4%B9%A0/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">微服务</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>24分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="微服务简介"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="微服务简介"><a href="#微服务简介" class="headerlink" title="微服务简介"></a>微服务简介</h2><h3 id="什么是微服务架构"><a href="#什么是微服务架构" class="headerlink" title="什么是微服务架构"></a>什么是微服务架构</h3><p> 微服务的概念源于2014年3月Martin Fowler所写的一篇文章“Microservices”。</p>
<p> 微服务架构是一种架构模式，它提倡将单一应用程序划分成一组小的服务，服务之间互相协调、互相配合，为用户提供最终价值。每个服务运行在其独立的进程中，服务与服务间采用轻量级的通信机制互相沟通（通常是基于HTTP的RESTful API）。每个服务都围绕着具体业务进行构建，并且能够被独立地部署到生产环境、类生产环境等。另外，应尽量避免统一的、集中式的服务管理机制，对具体的一个服务而言，应根据业务上下文，选择合适的语言、工具对其进行构建。</p>
<p> 微服务是一种架构风格，一个大型复杂软件应用由一个或多个微服务组成。系统中的各个微服务可被独立部署，各个微服务之间是松耦合的。每个微服务仅关注于完成一件任务并很好地完成该任务。在所有情况下，每个任务代表着一个小的业务能力。</p>
<h4 id="微服务架构优势"><a href="#微服务架构优势" class="headerlink" title="微服务架构优势"></a>微服务架构优势</h4><h5 id="复杂度可控"><a href="#复杂度可控" class="headerlink" title="复杂度可控"></a>复杂度可控</h5><p> 在将应用分解的同时，规避了原本复杂度无止境的积累。每一个微服务专注于单一功能，并通过定义良好的接口清晰表述服务边界。由于体积小、复杂度低，每个微服务可由一个小规模开发团队完全掌控，易于保持高可维护性和开发效率。</p>
<h5 id="独立部署"><a href="#独立部署" class="headerlink" title="独立部署"></a>独立部署</h5><p> 由于微服务具备独立的运行进程，所以每个微服务也可以独立部署。当某个微服务发生变更时无需编译、部署整个应用。由微服务组成的应用相当于具备一系列可并行的发布流程，使得发布更加高效，同时降低对生产环境所造成的风险，最终缩短应用交付周期。</p>
<h5 id="技术选型灵活"><a href="#技术选型灵活" class="headerlink" title="技术选型灵活"></a>技术选型灵活</h5><p> 微服务架构下，技术选型是去中心化的。每个团队可以根据自身服务的需求和行业发展的现状，自由选择最适合的技术栈。由于每个微服务相对简单，故需要对技术栈进行升级时所面临的风险就较低，甚至完全重构一个微服务也是可行的。</p>
<h5 id="容错"><a href="#容错" class="headerlink" title="容错"></a>容错</h5><p> 当某一组建发生故障时，在单一进程的传统架构下，故障很有可能在进程内扩散，形成应用全局性的不可用。在微服务架构下，故障会被隔离在单个服务中。若设计良好，其他服务可通过重试、平稳退化等机制实现应用层面的容错。</p>
<h5 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h5><p> 单块架构应用也可以实现横向扩展，就是将整个应用完整的复制到不同的节点。当应用的不同组件在扩展需求上存在差异时，微服务架构便体现出其灵活性，因为每个服务可以根据实际需求独立进行扩展。</p>
<h4 id="与单体系统的区别"><a href="#与单体系统的区别" class="headerlink" title="与单体系统的区别"></a>与单体系统的区别</h4><p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/202201282102348.png" alt="img"></p>
<p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/202201282126628.png" alt="springcloud10"></p>
<ol>
<li>单体系统部署在一个进程内，修改一个很小的功能，为部署上线会影响其他功能的运行；</li>
<li>单体应用中的各功能模块的使用场景、并发量、消耗的资源类型各不相同，对资源的利用又互相影响，这样使得我们对各个业务模块的系统容量很难给出较为准确的评估；</li>
<li>单体系统虽然初期方便开发和使用，但随着系统的发展，维护成本会变得越来越大，难以控制。</li>
</ol>
<h4 id="如何实施微服务"><a href="#如何实施微服务" class="headerlink" title="如何实施微服务"></a>如何实施微服务</h4><p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/202201282115385.png" alt="img"></p>
<h5 id="服务组件化"><a href="#服务组件化" class="headerlink" title="服务组件化"></a>服务组件化</h5><p> 组件，是一个可以独立更换和升级的单元。就像PC中的CPU、内存、显卡、硬盘一样，独立且可以更换升级而不影响其他单元。<br>​ 在“微服务”架构中，需要我们对服务进行组件化分解。服务，是一种进程外的组件，它通过http等通信协议进行协作，而不是传统组件以嵌入的方式协同工作。服务都独立开发、部署，可以有效的避免一个服务的修改引起整个系统的重新部署。</p>
<h5 id="按业务组织团队"><a href="#按业务组织团队" class="headerlink" title="按业务组织团队"></a>按业务组织团队</h5><p> 当我们开始决定如何划分“微服务”时，通常也意味着我们要开始对团队进行重新规划与组织。按以往的方式，我们往往会以技术的层面去划分多个不同的团队，比如：DBA团队、运维团队、后端团队、前端团队、设计师团队等等。若我们继续按这种方式组织团队来实施“微服务”架构开发时，当有一个有问题需要更改，可能是一个非常简单的变动，比如：对人物描述增加一个字段，这就需要从数据存储开始考虑一直到设计和前端，虽然大家的修改都非常小，但这会引起跨团队的时间和预算审批。<br>在实施“微服务”架构时，需要采用不同的团队分割方法。由于每一个微服务都是针对特定业务的宽栈或是全栈实现，既要负责数据的持久化存储，又要负责用户的接口定义等各种跨专业领域的职能。因此，面对大型项目时候，对于微服务团队拆分更加建议按业务线的方式进行拆分，一方面可以有效减少服务内部修改所产生的内耗；另一方面，团队边界可以变得更为清晰。</p>
<h5 id="做“产品”的态度"><a href="#做“产品”的态度" class="headerlink" title="做“产品”的态度"></a>做“产品”的态度</h5><p> 实施“微服务”架构的团队中，每个小团队都应该以做产品的方式，对其产品的整个生命周期负责。而不是以项目的模式，以完成开发与交付并将成果交接给维护者为最终目标。<br>开发团队通过了解服务在具体生产环境中的情况，可以增加他们对具体业务的理解，比如：很多时候一些业务中发生的特殊或异常情况，很可能产品经理都并不知晓，但细心的开发者很容易通过生产环境发现这些特殊的潜在问题或需求。<br>​ 所以，我们需要用做“产品”的态度来对待每一个“微服务”，持续关注服务的运作情况，并不断地分析帮助用户来提升业务功能。</p>
<h5 id="轻量化通信机制"><a href="#轻量化通信机制" class="headerlink" title="轻量化通信机制"></a>轻量化通信机制</h5><p> 在单体应用中，组件间直接通过函数调用的方式进行交互协作。而在“微服务”架构中，服务由于不在一个进程中，组件间的通信模式发生了改变，若仅仅将原本在进程内的方法调用改成RPC方式的调用，会导致微服务之间产生繁琐的通信，使得系统表现更为糟糕，所以，我们需要更粗粒度的通信协议。<br>在“微服务”架构中，通常会使用这两个服务调用方式：<br>第一种，使用HTTP协议的RESTful API或轻量级的消息发送协议，来实现信息传递与服务调用的触发。<br>第二种，通过在轻量级消息总线上传递消息，类似RabbitMQ等一些提供可靠异步交换的结构。<br>在极度强调性能的情况下，有些团队会使用二进制的消息发送协议，例如：protobuf。</p>
<h5 id="去中心化管理数据"><a href="#去中心化管理数据" class="headerlink" title="去中心化管理数据"></a>去中心化管理数据</h5><p> 我们在实施“微服务”架构时，都希望可以让每一个服务来管理其自有的数据库，这就是数据管理的去中心化。<br>在去中心化过程中，我们除了将原数据库中的存储内容拆分到新的同平台的其他数据库实例中之外（如：把原本存储在MySQL中的表拆分后，存储多几个不同的MySQL实例中），也可以针对一些具有特殊结构或业务特性的数据存储到一些其他技术的数据库实例中（如：把日志信息存储到MongoDB中、把用户登录信息存储到Redis中）。<br>虽然，数据管理的去中心化可以让数据管理更加细致化，通过采用更合适的技术来让数据存储和性能达到最优。但是，由于数据存储于不同的数据库实例中后，数据一致性也成为“微服务”架构中急需解决的问题之一。分布式事务的实现，本身难度就非常大，所以在“微服务”架构中，我们更强调在各服务之间进行“无事务”的调用，而对于数据一致性，只要求数据在最后的处理状态是一致的效果；若在过程中发现错误，通过补偿机制来进行处理，使得错误数据能够达到最终的一致性。</p>
<h5 id="基础设施自动化"><a href="#基础设施自动化" class="headerlink" title="基础设施自动化"></a>基础设施自动化</h5><p> 近年来云计算服务与容器化技术的不断成熟，运维基础设施的工作变得越来越不那么难了。但是，当我们实施“微服务”架构时，数据库、应用程序的个头虽然都变小了，但是因为拆分的原因，数量成倍的增长。这使得运维人员需要关注的内容也成倍的增长，并且操作性任务也会成倍的增长，这些问题若没有得到妥善的解决，必将成为运维人员的噩梦。<br>​ 所以，在“微服务”架构中，请务必从一开始就构建起“持续交付”平台来支撑整个实施过程，该平台需要两大内容，不可或缺：<br>自动化测试：每次部署前的强心剂，尽可能的获得对正在运行软件的信心。<br>自动化部署：解放繁琐枯燥的重复操作以及对多环境的配置管理。</p>
<h5 id="容错设计"><a href="#容错设计" class="headerlink" title="容错设计"></a>容错设计</h5><p>在单体应用中，一般不存在单个组件故障而其他还在运行的情况，通常是一挂全挂。而在“微服务”架构中，由于服务都运行在独立的进程中，所以是存在部分服务出现故障，而其他服务都正常运行的情况，比如：当正常运作的服务B调用到故障服务A时，因故障服务A没有返回，线程挂起开始等待，直到超时才能释放，而此时若触发服务B调用服务A的请求来自服务C，而服务C频繁调用服务B时，由于其依赖服务A，大量线程被挂起等待，最后导致服务C也不能正常服务，这时就会出现故障的蔓延。<br>所以，在“微服务”架构中，快速的检测出故障源并尽可能的自动恢复服务是必须要被设计和考虑的。通常，我们都希望在每个服务中实现监控和日志记录的组件，比如：服务状态、断路器状态、吞吐量、网络延迟等关键数据的仪表盘等。</p>
<h5 id="演进式设计"><a href="#演进式设计" class="headerlink" title="演进式设计"></a>演进式设计</h5><p>通过上面的几点特征，我们已经能够体会到，要实施一个完美的“微服务”架构，需要考虑的设计与成本并不小，对于没有足够经验的团队来说，甚至要比单体应用发付出更多的代价。<br>所以，很多情况下，架构师们都会以演进的方式进行系统的构建，在初期系统以单体系统的方式来设计和实施，一方面系统体量初期并不会很大，构建和维护成本都不高。另一方面，初期的核心业务在后期通常也不会发生巨大的改变。随着系统的发展或者业务的需要，架构师们会将一些经常变动或是有一定时间效应的内容进行“微服务”处理，并逐渐地将原来在单体系统中多变的模块逐步拆分出来，而稳定不太变化的就形成了一个核心“微服务”存在于整个架构之中。</p>
<h4 id="微服务优缺点"><a href="#微服务优缺点" class="headerlink" title="微服务优缺点"></a>微服务优缺点</h4><p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/202201282127177.png" alt="img"></p>
<h3 id="什么是SpringCloud"><a href="#什么是SpringCloud" class="headerlink" title="什么是SpringCloud"></a>什么是SpringCloud</h3><p> Spring Cloud是一系列框架的有序集合。它利用Spring Boot的开发便利性巧妙地简化了分布式系统基础设施的开发，如服务发现注册、配置中心、消息总线、负载均衡、断路器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。Spring Cloud并没有重复制造轮子，它只是将目前各家公司开发的比较成熟、经得起实际考验的服务框架组合起来，通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包。</p>
<p> Spring Cloud为开发人员提供了快速构建分布式系统中一些常见模式的工具（例如配置管理，服务发现，断路器，智能路由，微代理，控制总线，一次性令牌，全局锁定，领导选举，分布式会话，集群状态）。分布式系统的协调导致锅炉板模式，使用Spring Cloud开发人员可以快速站起来实现这些模式的服务和应用程序。它们适用于任何分布式环境，包括开发人员自己的笔记本电脑，裸机数据中心和Cloud Foundry等托管平台。</p>
<h3 id="Spring-Cloud前景"><a href="#Spring-Cloud前景" class="headerlink" title="Spring Cloud前景"></a>Spring Cloud前景</h3><p> Spring Cloud对于中小型互联网公司来说是一种福音，因为这类公司往往没有实力或者没有足够的资金投入去开发自己的分布式系统基础设施，使用Spring Cloud一站式解决方案能在从容应对业务发展的同时大大减少开发成本。同时，随着近几年微服务架构和Docker容器概念的火爆，也会让Spring Cloud在未来越来越“云”化的软件开发风格中立有一席之地，尤其是在目前五花八门的分布式解决方案中提供了标准化的、全站式的技术方案，意义可能会堪比当年Servlet规范的诞生，有效推进服务端软件系统技术水平的进步。</p>
<h3 id="Spring-Cloud生态圈"><a href="#Spring-Cloud生态圈" class="headerlink" title="Spring Cloud生态圈"></a>Spring Cloud生态圈</h3><blockquote>
<p>Spring Cloud 为开发者提供了在分布式系统（配置管理，服务发现，熔断，路由，微代理，控制总线，一次性token，全局琐，leader选举，分布式session，集群状态）中快速构建的工具，使用Spring Cloud的开发者可以快速的启动服务或构建应用、同时能够快速和云平台资源进行对接。</p>
</blockquote>
<p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/202201282139224.png" alt="img"></p>
<h4 id="核心成员"><a href="#核心成员" class="headerlink" title="核心成员"></a>核心成员</h4><h5 id="Spring-Cloud-Netflix"><a href="#Spring-Cloud-Netflix" class="headerlink" title="Spring Cloud Netflix"></a>Spring Cloud Netflix</h5><p> 这可是个大boss，地位仅次于老大，老大各项服务依赖与它，与各种Netflix OSS组件集成，组成微服务的核心，它的小弟主要有Eureka, Hystrix, Zuul, Archaius… 太多了</p>
<h5 id="Netflix-Eureka"><a href="#Netflix-Eureka" class="headerlink" title="Netflix Eureka"></a>Netflix Eureka</h5><p> 服务中心，云端服务发现，一个基于 REST 的服务，用于定位服务，以实现云端中间层服务发现和故障转移。这个可是springcloud最牛鼻的小弟，服务中心，任何小弟需要其它小弟支持什么都需要从这里来拿，同样的你有什么独门武功的都赶紧过报道，方便以后其它小弟来调用；它的好处是你不需要直接找各种什么小弟支持，只需要到服务中心来领取，也不需要知道提供支持的其它小弟在哪里，还是几个小弟来支持的，反正拿来用就行，服务中心来保证稳定性和质量。</p>
<h5 id="Netflix-Hystrix"><a href="#Netflix-Hystrix" class="headerlink" title="Netflix Hystrix"></a>Netflix Hystrix</h5><p> 熔断器，容错管理工具，旨在通过熔断机制控制服务和第三方库的节点,从而对延迟和故障提供更强大的容错能力。比如突然某个小弟生病了，但是你还需要它的支持，然后调用之后它半天没有响应，你却不知道，一直在等等这个响应；有可能别的小弟也正在调用你的武功绝技，那么当请求多之后，就会发生严重的阻塞影响老大的整体计划。这个时候Hystrix就派上用场了，当Hystrix发现某个小弟不在状态不稳定立马马上让它下线，让其它小弟来顶上来，或者给你说不用等了这个小弟今天肯定不行，该干嘛赶紧干嘛去别在这排队了。</p>
<h5 id="Netflix-Zuul"><a href="#Netflix-Zuul" class="headerlink" title="Netflix Zuul"></a>Netflix Zuul</h5><p>Zuul 是在云平台上提供动态路由,监控,弹性,安全等边缘服务的框架。Zuul 相当于是设备和 Netflix 流应用的 Web 网站后端所有请求的前门。当其它门派来找大哥办事的时候一定要先经过zuul,看下有没有带刀子什么的给拦截回去，或者是需要找那个小弟的直接给带过去。</p>
<h5 id="Netflix-Archaius"><a href="#Netflix-Archaius" class="headerlink" title="Netflix Archaius"></a>Netflix Archaius</h5><p> 配置管理API，包含一系列配置管理API，提供动态类型化属性、线程安全配置操作、轮询框架、回调机制等功能。可以实现动态获取配置，<br>​ 原理是每隔60s（默认，可配置）从配置源读取一次内容，这样修改了配置文件后不需要重启服务就可以使修改后的内容生效，前提使用archaius的API来读取。</p>
<h5 id="Spring-Cloud-Config"><a href="#Spring-Cloud-Config" class="headerlink" title="Spring Cloud Config"></a>Spring Cloud Config</h5><p> 俗称的配置中心，配置管理工具包，让你可以把配置放到远程服务器，集中化管理集群配置，目前支持本地存储、Git以及Subversion。就是以后大家武器、枪火什么的东西都集中放到一起，别随便自己带，方便以后统一管理、升级装备。</p>
<h5 id="Spring-Cloud-Bus"><a href="#Spring-Cloud-Bus" class="headerlink" title="Spring Cloud Bus"></a>Spring Cloud Bus</h5><p> 事件、消息总线，用于在集群（例如，配置变化事件）中传播状态变化，可与Spring Cloud Config联合实现热部署。相当于水浒传中日行八百里的神行太保戴宗，确保各个小弟之间消息保持畅通。</p>
<h5 id="Spring-Cloud-for-Cloud-Foundry"><a href="#Spring-Cloud-for-Cloud-Foundry" class="headerlink" title="Spring Cloud for Cloud Foundry"></a>Spring Cloud for Cloud Foundry</h5><p> Cloud Foundry是VMware推出的业界第一个开源PaaS云平台，它支持多种框架、语言、运行时环境、云平台及应用服务，使开发人员能够在几秒钟内进行应用程序的部署和扩展，无需担心任何基础架构的问题</p>
<p> 其实就是与CloudFoundry进行集成的一套解决方案，抱了Cloud Foundry的大腿。</p>
<h5 id="Spring-Cloud-Cluster"><a href="#Spring-Cloud-Cluster" class="headerlink" title="Spring Cloud Cluster"></a>Spring Cloud Cluster</h5><p> Spring Cloud Cluster将取代Spring Integration。提供在分布式系统中的集群所需要的基础功能支持，如：选举、集群的状态一致性、全局锁、tokens等常见状态模式的抽象和实现。</p>
<p>如果把不同的帮派组织成统一的整体，Spring Cloud Cluster已经帮你提供了很多方便组织成统一的工具。</p>
<h5 id="Spring-Cloud-Consul"><a href="#Spring-Cloud-Consul" class="headerlink" title="Spring Cloud Consul"></a>Spring Cloud Consul</h5><p> Consul 是一个支持多数据中心分布式高可用的服务发现和配置共享的服务软件,由 HashiCorp 公司用 Go 语言开发, 基于 Mozilla Public License 2.0 的协议进行开源. Consul 支持健康检查,并允许 HTTP 和 DNS 协议调用 API 存储键值对.</p>
<p> Spring Cloud Consul 封装了Consul操作，consul是一个服务发现与配置工具，与Docker容器可以无缝集成。</p>
<h4 id="其它小弟"><a href="#其它小弟" class="headerlink" title="其它小弟"></a>其它小弟</h4><h5 id="Spring-Cloud-Security"><a href="#Spring-Cloud-Security" class="headerlink" title="Spring Cloud Security"></a>Spring Cloud Security</h5><p> 基于spring security的安全工具包，为你的应用程序添加安全控制。这个小弟很牛鼻专门负责整个帮派的安全问题，设置不同的门派访问特定的资源，不能把秘籍葵花宝典泄漏了。</p>
<h5 id="Spring-Cloud-Sleuth"><a href="#Spring-Cloud-Sleuth" class="headerlink" title="Spring Cloud Sleuth"></a>Spring Cloud Sleuth</h5><p> 日志收集工具包，封装了Dapper和log-based追踪以及Zipkin和HTrace操作，为SpringCloud应用实现了一种分布式追踪解决方案。</p>
<h5 id="Spring-Cloud-Data-Flow"><a href="#Spring-Cloud-Data-Flow" class="headerlink" title="Spring Cloud Data Flow"></a>Spring Cloud Data Flow</h5><p> Data flow 是一个用于开发和执行大范围数据处理其模式包括ETL，批量运算和持续运算的统一编程模型和托管服务。<br>​ 对于在现代运行环境中可组合的微服务程序来说，Spring Cloud data flow是一个原生云可编配的服务。使用Spring Cloud data flow，开发者可以为像数据抽取，实时分析，和数据导入/导出这种常见用例创建和编配数据通道 （data pipelines）。<br>​ Spring Cloud data flow 是基于原生云对 spring XD的重新设计，该项目目标是简化大数据应用的开发。Spring XD 的流处理和批处理模块的重构分别是基于 spring boot的stream 和 task/batch 的微服务程序。这些程序现在都是自动部署单元而且他们原生的支持像 Cloud Foundry、Apache YARN、Apache Mesos和Kubernetes 等现代运行环境。<br>​ Spring Cloud data flow 为基于微服务的分布式流处理和批处理数据通道提供了一系列模型和最佳实践。</p>
<h5 id="Spring-Cloud-Stream"><a href="#Spring-Cloud-Stream" class="headerlink" title="Spring Cloud Stream"></a>Spring Cloud Stream</h5><p> Spring Cloud Stream是创建消息驱动微服务应用的框架。Spring Cloud Stream是基于spring boot创建，用来建立单独的／工业级spring应用，使用spring integration提供与消息代理之间的连接。数据流操作开发包，封装了与Redis,Rabbit、Kafka等发送接收消息。</p>
<p> 一个业务会牵扯到多个任务，任务之间是通过事件触发的，这就是Spring Cloud stream要干的事了</p>
<h5 id="Spring-Cloud-Task"><a href="#Spring-Cloud-Task" class="headerlink" title="Spring Cloud Task"></a>Spring Cloud Task</h5><p> Spring Cloud Task 主要解决短命微服务的任务管理，任务调度的工作，比如说某些定时任务晚上就跑一次，或者某项数据分析临时就跑几次。</p>
<h5 id="Spring-Cloud-Zookeeper"><a href="#Spring-Cloud-Zookeeper" class="headerlink" title="Spring Cloud Zookeeper"></a>Spring Cloud Zookeeper</h5><p> ZooKeeper是一个分布式的，开放源码的分布式应用程序协调服务，是Google的Chubby一个开源的实现，是Hadoop和Hbase的重要组件。它是一个为分布式应用提供一致性服务的软件，提供的功能包括：配置维护、域名服务、分布式同步、组服务等。ZooKeeper的目标就是封装好复杂易出错的关键服务，将简单易用的接口和性能高效、功能稳定的系统提供给用户。</p>
<p> 操作Zookeeper的工具包，用于使用zookeeper方式的服务发现和配置管理，抱了Zookeeper的大腿。</p>
<h5 id="Spring-Cloud-Connectors"><a href="#Spring-Cloud-Connectors" class="headerlink" title="Spring Cloud Connectors"></a>Spring Cloud Connectors</h5><p> Spring Cloud Connectors 简化了连接到服务的过程和从云平台获取操作的过程，有很强的扩展性，可以利用Spring Cloud Connectors来构建你自己的云平台。</p>
<p> 便于云端应用程序在各种PaaS平台连接到后端，如：数据库和消息代理服务。</p>
<h5 id="Spring-Cloud-Starters"><a href="#Spring-Cloud-Starters" class="headerlink" title="Spring Cloud Starters"></a>Spring Cloud Starters</h5><p> Spring Boot式的启动项目，为Spring Cloud提供开箱即用的依赖管理。</p>
<h5 id="Spring-Cloud-CLI"><a href="#Spring-Cloud-CLI" class="headerlink" title="Spring Cloud CLI"></a>Spring Cloud CLI</h5><p> 基于 Spring Boot CLI，可以让你以命令行方式快速建立云组件。</p>
<h3 id="SpringCloud-架构图"><a href="#SpringCloud-架构图" class="headerlink" title="SpringCloud 架构图"></a>SpringCloud 架构图</h3><p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/202201282149264.png" alt="img"></p>
<h3 id="SpringBoot与SprinCloud版本对应"><a href="#SpringBoot与SprinCloud版本对应" class="headerlink" title="SpringBoot与SprinCloud版本对应"></a>SpringBoot与SprinCloud版本对应</h3><table>
<thead>
<tr>
<th>Spring Boot</th>
<th>Spring Cloud</th>
</tr>
</thead>
<tbody><tr>
<td>1.2.x</td>
<td>Angel版本</td>
</tr>
<tr>
<td>1.3.x</td>
<td>Brixton版本</td>
</tr>
<tr>
<td>1.4.x stripes</td>
<td>Camden版本</td>
</tr>
<tr>
<td>1.5.x</td>
<td>Dalston版本、Edgware版本</td>
</tr>
<tr>
<td>2.0.x</td>
<td>Finchley版本</td>
</tr>
<tr>
<td>2.1.x</td>
<td>Greenwich.SR2</td>
</tr>
</tbody></table>
<p>详细的对应关系可以参考 <a target="_blank" rel="noopener" href="https://start.spring.io/actuator/info">https://start.spring.io/actuator/info</a></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;git&quot;</span>: &#123;</span><br><span class="line">		<span class="attr">&quot;commit&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;time&quot;</span>: <span class="string">&quot;2020-05-12T12:01:49Z&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;id&quot;</span>: <span class="string">&quot;6dd9d1c&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;branch&quot;</span>: <span class="string">&quot;6dd9d1cce42b6551beafa2021b10943f43cb7828&quot;</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">&quot;build&quot;</span>: &#123;</span><br><span class="line">		<span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.0.1-SNAPSHOT&quot;</span>,</span><br><span class="line">		<span class="attr">&quot;artifact&quot;</span>: <span class="string">&quot;start-site&quot;</span>,</span><br><span class="line">		<span class="attr">&quot;name&quot;</span>: <span class="string">&quot;start.spring.io website&quot;</span>,</span><br><span class="line">		<span class="attr">&quot;versions&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;initializr&quot;</span>: <span class="string">&quot;0.9.0.BUILD-SNAPSHOT&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;spring-boot&quot;</span>: <span class="string">&quot;2.2.7.RELEASE&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;group&quot;</span>: <span class="string">&quot;io.spring.start&quot;</span>,</span><br><span class="line">		<span class="attr">&quot;time&quot;</span>: <span class="string">&quot;2020-05-12T12:02:37.570Z&quot;</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">&quot;bom-ranges&quot;</span>: &#123;</span><br><span class="line">		<span class="attr">&quot;azure&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;2.0.10&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.RELEASE and &lt;2.1.0.RELEASE&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;2.1.10&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.1.0.RELEASE and &lt;2.2.0.M1&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;2.2.4&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.2.0.M1&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;codecentric-spring-boot-admin&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;2.0.6&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.M1 and &lt;2.1.0.M1&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;2.1.6&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.1.0.M1 and &lt;2.2.0.M1&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;2.2.3&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.2.0.M1&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;solace-spring-boot&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;1.0.0&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.2.0.RELEASE and &lt;2.3.0.M1&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;solace-spring-cloud&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;1.0.0&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.2.0.RELEASE and &lt;2.3.0.M1&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;spring-cloud&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;Finchley.M2&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.M3 and &lt;2.0.0.M5&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Finchley.M3&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.M5 and &lt;=2.0.0.M5&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Finchley.M4&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.M6 and &lt;=2.0.0.M6&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Finchley.M5&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.M7 and &lt;=2.0.0.M7&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Finchley.M6&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.RC1 and &lt;=2.0.0.RC1&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Finchley.M7&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.RC2 and &lt;=2.0.0.RC2&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Finchley.M9&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.RELEASE and &lt;=2.0.0.RELEASE&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Finchley.RC1&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.1.RELEASE and &lt;2.0.2.RELEASE&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Finchley.RC2&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.2.RELEASE and &lt;2.0.3.RELEASE&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Finchley.SR4&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.3.RELEASE and &lt;2.0.999.BUILD-SNAPSHOT&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Finchley.BUILD-SNAPSHOT&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.999.BUILD-SNAPSHOT and &lt;2.1.0.M3&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Greenwich.M1&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.1.0.M3 and &lt;2.1.0.RELEASE&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Greenwich.SR5&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.1.0.RELEASE and &lt;2.1.15.BUILD-SNAPSHOT&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Greenwich.BUILD-SNAPSHOT&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.1.15.BUILD-SNAPSHOT and &lt;2.2.0.M4&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Hoxton.SR4&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.2.0.M4 and &lt;2.3.0.BUILD-SNAPSHOT&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;Hoxton.BUILD-SNAPSHOT&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.3.0.BUILD-SNAPSHOT&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;spring-cloud-alibaba&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;2.2.1.RELEASE&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.2.0.RELEASE and &lt;2.3.0.M1&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;spring-cloud-services&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;2.0.3.RELEASE&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.RELEASE and &lt;2.1.0.RELEASE&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;2.1.7.RELEASE&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.1.0.RELEASE and &lt;2.2.0.RELEASE&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;2.2.3.RELEASE&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.2.0.RELEASE and &lt;2.3.0.M1&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;spring-statemachine&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;2.0.0.M4&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.RC1 and &lt;=2.0.0.RC1&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;2.0.0.M5&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.RC2 and &lt;=2.0.0.RC2&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;2.0.1.RELEASE&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.RELEASE&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;vaadin&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;10.0.17&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.M1 and &lt;2.1.0.M1&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;14.1.28&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.1.0.M1&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;wavefront&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;2.0.0-RC1&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.1.0.RELEASE and &lt;2.3.0.BUILD-SNAPSHOT&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;2.0.0-SNAPSHOT&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.3.0.BUILD-SNAPSHOT&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">&quot;dependency-ranges&quot;</span>: &#123;</span><br><span class="line">		<span class="attr">&quot;okta&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;1.2.1&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.1.2.RELEASE and &lt;2.2.0.M1&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;1.4.0&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.2.0.M1&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;mybatis&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;2.0.1&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.RELEASE and &lt;2.1.0.RELEASE&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;2.1.2&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.1.0.RELEASE&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;geode&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;1.2.6.RELEASE&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.2.0.M5 and &lt;2.3.0.M1&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;1.3.0.M4&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.3.0.M1 and &lt;2.3.0.BUILD-SNAPSHOT&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;1.3.0.BUILD-SNAPSHOT&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.3.0.BUILD-SNAPSHOT&quot;</span></span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">&quot;camel&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;2.22.4&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.0.0.M1 and &lt;2.1.0.M1&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;2.25.1&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.1.0.M1 and &lt;2.2.0.M1&quot;</span>,</span><br><span class="line">			<span class="attr">&quot;3.2.0&quot;</span>: <span class="string">&quot;Spring Boot &gt;=2.2.0.M1&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">小肥龙吃大冰淇淋</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://lvxueyangtiger.github.io/post/2c46bfa7.html">https://lvxueyangtiger.github.io/post/2c46bfa7.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://lvxueyangtiger.github.io" target="_blank">小肥龙吃大冰淇淋</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">微服务</a></div><div class="post_share"><div class="social-share" data-image="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211108212100.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/mm_facetoface_collect_qrcode_1628169825807.png" target="_blank"><img class="post-qr-code-img" src="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/mm_facetoface_collect_qrcode_1628169825807.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/1628169797.jpg" target="_blank"><img class="post-qr-code-img" src="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/1628169797.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/9a86c0da.html"><img class="prev-cover" src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211108212110.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Nacos简介</div></div></a></div><div class="next-post pull-right"><a href="/post/fb4f770b.html"><img class="next-cover" src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211004082219.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">微服务搭建</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/9a86c0da.html" title="Nacos简介"><img class="cover" src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211108212110.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-30</div><div class="title">Nacos简介</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">微服务简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84"><span class="toc-number">1.1.</span> <span class="toc-text">什么是微服务架构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E4%BC%98%E5%8A%BF"><span class="toc-number">1.1.1.</span> <span class="toc-text">微服务架构优势</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%8F%AF%E6%8E%A7"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">复杂度可控</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%8B%AC%E7%AB%8B%E9%83%A8%E7%BD%B2"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">独立部署</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%E7%81%B5%E6%B4%BB"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">技术选型灵活</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%B9%E9%94%99"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">容错</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A9%E5%B1%95"><span class="toc-number">1.1.1.5.</span> <span class="toc-text">扩展</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E%E5%8D%95%E4%BD%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.1.2.</span> <span class="toc-text">与单体系统的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9E%E6%96%BD%E5%BE%AE%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.1.3.</span> <span class="toc-text">如何实施微服务</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%BB%84%E4%BB%B6%E5%8C%96"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">服务组件化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E4%B8%9A%E5%8A%A1%E7%BB%84%E7%BB%87%E5%9B%A2%E9%98%9F"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">按业务组织团队</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%81%9A%E2%80%9C%E4%BA%A7%E5%93%81%E2%80%9D%E7%9A%84%E6%80%81%E5%BA%A6"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">做“产品”的态度</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BD%BB%E9%87%8F%E5%8C%96%E9%80%9A%E4%BF%A1%E6%9C%BA%E5%88%B6"><span class="toc-number">1.1.3.4.</span> <span class="toc-text">轻量化通信机制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE"><span class="toc-number">1.1.3.5.</span> <span class="toc-text">去中心化管理数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E8%87%AA%E5%8A%A8%E5%8C%96"><span class="toc-number">1.1.3.6.</span> <span class="toc-text">基础设施自动化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%B9%E9%94%99%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.1.3.7.</span> <span class="toc-text">容错设计</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BC%94%E8%BF%9B%E5%BC%8F%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.1.3.8.</span> <span class="toc-text">演进式设计</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">1.1.4.</span> <span class="toc-text">微服务优缺点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFSpringCloud"><span class="toc-number">1.2.</span> <span class="toc-text">什么是SpringCloud</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Cloud%E5%89%8D%E6%99%AF"><span class="toc-number">1.3.</span> <span class="toc-text">Spring Cloud前景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Cloud%E7%94%9F%E6%80%81%E5%9C%88"><span class="toc-number">1.4.</span> <span class="toc-text">Spring Cloud生态圈</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%88%90%E5%91%98"><span class="toc-number">1.4.1.</span> <span class="toc-text">核心成员</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Netflix"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">Spring Cloud Netflix</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Netflix-Eureka"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">Netflix Eureka</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Netflix-Hystrix"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">Netflix Hystrix</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Netflix-Zuul"><span class="toc-number">1.4.1.4.</span> <span class="toc-text">Netflix Zuul</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Netflix-Archaius"><span class="toc-number">1.4.1.5.</span> <span class="toc-text">Netflix Archaius</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Config"><span class="toc-number">1.4.1.6.</span> <span class="toc-text">Spring Cloud Config</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Bus"><span class="toc-number">1.4.1.7.</span> <span class="toc-text">Spring Cloud Bus</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-for-Cloud-Foundry"><span class="toc-number">1.4.1.8.</span> <span class="toc-text">Spring Cloud for Cloud Foundry</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Cluster"><span class="toc-number">1.4.1.9.</span> <span class="toc-text">Spring Cloud Cluster</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Consul"><span class="toc-number">1.4.1.10.</span> <span class="toc-text">Spring Cloud Consul</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E5%AE%83%E5%B0%8F%E5%BC%9F"><span class="toc-number">1.4.2.</span> <span class="toc-text">其它小弟</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Security"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">Spring Cloud Security</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Sleuth"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">Spring Cloud Sleuth</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Data-Flow"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">Spring Cloud Data Flow</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Stream"><span class="toc-number">1.4.2.4.</span> <span class="toc-text">Spring Cloud Stream</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Task"><span class="toc-number">1.4.2.5.</span> <span class="toc-text">Spring Cloud Task</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Zookeeper"><span class="toc-number">1.4.2.6.</span> <span class="toc-text">Spring Cloud Zookeeper</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Connectors"><span class="toc-number">1.4.2.7.</span> <span class="toc-text">Spring Cloud Connectors</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-Starters"><span class="toc-number">1.4.2.8.</span> <span class="toc-text">Spring Cloud Starters</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Spring-Cloud-CLI"><span class="toc-number">1.4.2.9.</span> <span class="toc-text">Spring Cloud CLI</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SpringCloud-%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="toc-number">1.5.</span> <span class="toc-text">SpringCloud 架构图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SpringBoot%E4%B8%8ESprinCloud%E7%89%88%E6%9C%AC%E5%AF%B9%E5%BA%94"><span class="toc-number">1.6.</span> <span class="toc-text">SpringBoot与SprinCloud版本对应</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 小肥龙吃大冰淇淋</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="framework-info"><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/202301132049386.png"/><span> </span><a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/">晋ICP备2022012091号-1</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'pinglun-9gh2lmcnd8587831',
      region: ''
    }, null))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'pinglun-9gh2lmcnd8587831',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script defer src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/hexo-theme-volantis@latest/source/js/issues.min.js"></script><script src="//code.tidio.co/smwivpnwumemac2wohardi3d3gpud1ag.js" async="async"></script><script>function onTidioChatApiReady() {
  window.tidioChatApi.hide();
  window.tidioChatApi.on("close", function() {
    window.tidioChatApi.hide();
  });
}
if (window.tidioChatApi) {
  window.tidioChatApi.on("ready", onTidioChatApiReady);
} else {
  document.addEventListener("tidioChat-ready", onTidioChatApiReady);
}

var chatBtnFn = () => {
  document.getElementById("chat_btn").addEventListener("click", function(){
    window.tidioChatApi.show();
    window.tidioChatApi.open();
  });
}
chatBtnFn()
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>